# Staging environment values
# Updated automatically by CD pipeline on *-staging tag push

# Image overrides (chart uses root-level keys)
image:
  repository: harbor.support.tools/stackeye-io/api
  tag: "0.1.0"

# Disable SealedSecrets - we manage secrets externally
sealedSecrets:
  enabled: false

# Use existing secret created outside of Helm
secrets:
  existingSecretName: stackeye-api-secrets

# Staging-specific ingress
ingress:
  hosts:
    - host: api-staging.stackeye.io
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: stackeye-api-staging-tls
      hosts:
        - api-staging.stackeye.io

# Staging environment identifier
global:
  environment: staging

# Image tags (updated by CI)
api:
  image:
    tag: "0.1.0"
worker:
  image:
    tag: "0.1.0"

# Database migration configuration
migration:
  enabled: true
  image:
    tag: "0.1.0"
  backup:
    enabled: true
    storageSize: 10Gi
    retention: 10
